const g=document.querySelector(".js-input-search"),T=document.querySelector(".js-btn-search"),k=document.querySelector(".js-drink-list"),d=document.querySelector(".js-fav-drink-list"),l=document.querySelector(".js-btn-reset-fav"),a=document.querySelector(".js-search-text"),j=document.querySelector(".js-favorites-maintitle"),b=document.querySelector(".js-drinks-maintitle"),v=document.querySelector(".js-fav-gift");let s=[],r=[];const q=(e,t)=>{let n="";return e.strDrinkThumb!==""?n=`<li class="drink js-drink ${t}" id="${e.idDrink}">
        <h3 class="drink__title">${e.strDrink}</h3>
        <img class="drink__image" src="${e.strDrinkThumb}" alt="">
     </li>`:n=`<li class="js-drink ${t}" id="${e.idDrink}">
        <h3>${e.strDrink}</h3>
        <img src="https://via.placeholder.com/210x295/ffffff/666666/?text=NOTIMAGEFOUND" alt="">
     </li>`,n};function p(e){const t=document.createElement("li"),n=document.createElement("h3"),o=document.createElement("img"),i=document.createElement("button");o.src=e.strDrinkThumb;const f=document.createTextNode(`${e.strDrink}`),L=document.createTextNode("X");i.appendChild(L),n.appendChild(f),t.classList.add("favorites-changes"),t.id=e.idDrink,t.appendChild(n),t.appendChild(o),t.classList.add("favorites__li"),n.classList.add("favorites__title"),o.classList.add("favorites__image"),i.classList.add("favorites__btnx"),l.classList.remove("hidden"),j.classList.remove("hidden"),d.appendChild(i),d.appendChild(t);function S(h){h.preventDefault(),d.removeChild(t);const m=t.id,C=r.findIndex(I=>I.idDrink===m);r.splice(C,1),localStorage.removeItem(m),i.classList.add("hidden"),c(s),u()}i.addEventListener("click",S);function D(h){d.replaceChildren(),localStorage.clear(),r=[],c(s),u()}l.addEventListener("click",D)}const x=e=>{console.log(e.currentTarget.id);const t=e.currentTarget.id,n=s.find(i=>i.idDrink===t);r.findIndex(i=>i.idDrink===t)===-1&&r.push(n),console.log(r),p(n),localStorage.setItem(t,JSON.stringify(n)),c(s),u()},c=e=>{k.innerHTML="";for(let n=0;n<e.length;n++){const o=r.findIndex(f=>f.idDrink===e[n].idDrink);let i="";o!==-1&&(i="favorites-changes"),k.innerHTML+=q(e[n],i)}b.classList.remove("hidden");const t=document.querySelectorAll(".js-drink");for(const n of t)n.addEventListener("click",x)};function w(){const e=g.value;fetch(`https://www.thecocktaildb.com/api/json/v1/1/search.php?s=${e}`).then(function(t){return t.json()}).then(function(t){s=t.drinks,console.log(s),s===null?a.innerHTML="No disponemos de ningún cóctel que coincida con tu búsqueda.":(c(s),a.innerHTML="")})}function _(){fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s=margarita").then(function(e){return e.json()}).then(function(e){s=e.drinks,c(s)})}function y(){for(let e=0;e<localStorage.length;e++){let t=localStorage.key(e);const n=localStorage.getItem(t),o=JSON.parse(n);r.push(o),p(o)}}function M(e){e.preventDefault(),g.value===""?a.innerHTML="No se ha introducido ningún cocktail en la barra de búsqueda.":(a.innerHTML="",w())}function E(){u(),_()}function u(){r.length===0?(l.classList.add("hidden"),v.classList.remove("hidden")):(v.classList.add("hidden"),l.classList.remove("hidden"))}y();E();T.addEventListener("click",M);
//# sourceMappingURL=main.js.map
